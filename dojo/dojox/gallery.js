/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.getObject("data.util.filter",true,dojo);dojo.data.util.filter.patternToRegExp=function(_1,_2){var _3="^";var c=null;for(var i=0;i<_1.length;i++){c=_1.charAt(i);switch(c){case "\\":_3+=c;i++;_3+=_1.charAt(i);break;case "*":_3+=".*";break;case "?":_3+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":_3+="\\";default:_3+=c;}}_3+="$";if(_2){return new RegExp(_3,"mi");}else{return new RegExp(_3,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.getObject("data.util.sorter",true,dojo);dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_4,_5){var _6=[];function _7(_8,_9,_a,s){return function(_b,_c){var a=s.getValue(_b,_8);var b=s.getValue(_c,_8);return _9*_a(a,b);};};var _d;var _e=_5.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_4.length;i++){_d=_4[i];var _f=_d.attribute;if(_f){var dir=(_d.descending)?-1:1;var _10=bc;if(_e){if(typeof _f!=="string"&&("toString" in _f)){_f=_f.toString();}_10=_e[_f]||bc;}_6.push(_7(_f,dir,_10,_5));}}return function(_11,_12){var i=0;while(i<_6.length){var ret=_6[i++](_11,_12);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.getObject("data.util.simpleFetch",true,dojo);dojo.data.util.simpleFetch.fetch=function(_13){_13=_13||{};if(!_13.store){_13.store=this;}var _14=this;var _15=function(_16,_17){if(_17.onError){var _18=_17.scope||dojo.global;_17.onError.call(_18,_16,_17);}};var _19=function(_1a,_1b){var _1c=_1b.abort||null;var _1d=false;var _1e=_1b.start?_1b.start:0;var _1f=(_1b.count&&(_1b.count!==Infinity))?(_1e+_1b.count):_1a.length;_1b.abort=function(){_1d=true;if(_1c){_1c.call(_1b);}};var _20=_1b.scope||dojo.global;if(!_1b.store){_1b.store=_14;}if(_1b.onBegin){_1b.onBegin.call(_20,_1a.length,_1b);}if(_1b.sort){_1a.sort(dojo.data.util.sorter.createSortFunction(_1b.sort,_14));}if(_1b.onItem){for(var i=_1e;(i<_1a.length)&&(i<_1f);++i){var _21=_1a[i];if(!_1d){_1b.onItem.call(_20,_21,_1b);}}}if(_1b.onComplete&&!_1d){var _22=null;if(!_1b.onItem){_22=_1a.slice(_1e,_1f);}_1b.onComplete.call(_20,_22,_1b);}};this._fetchItems(_13,_19,_15);return _13;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.getObject("date.stamp",true,dojo);dojo.date.stamp.fromISOString=function(_23,_24){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _25=dojo.date.stamp._isoRegExp.exec(_23),_26=null;if(_25){_25.shift();if(_25[1]){_25[1]--;}if(_25[6]){_25[6]*=1000;}if(_24){_24=new Date(_24);dojo.forEach(dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_27){return _24["get"+_27]();}),function(_28,_29){_25[_29]=_25[_29]||_28;});}_26=new Date(_25[0]||1970,_25[1]||0,_25[2]||1,_25[3]||0,_25[4]||0,_25[5]||0,_25[6]||0);if(_25[0]<100){_26.setFullYear(_25[0]||1970);}var _2a=0,_2b=_25[7]&&_25[7].charAt(0);if(_2b!="Z"){_2a=((_25[8]||0)*60)+(Number(_25[9])||0);if(_2b!="-"){_2a*=-1;}}if(_2b){_2a-=_26.getTimezoneOffset();}if(_2a){_26.setTime(_26.getTime()+_2a*60000);}}return _26;};dojo.date.stamp.toISOString=function(_2c,_2d){var _2e=function(n){return (n<10)?"0"+n:n;};_2d=_2d||{};var _2f=[],_30=_2d.zulu?"getUTC":"get",_31="";if(_2d.selector!="time"){var _32=_2c[_30+"FullYear"]();_31=["0000".substr((_32+"").length)+_32,_2e(_2c[_30+"Month"]()+1),_2e(_2c[_30+"Date"]())].join("-");}_2f.push(_31);if(_2d.selector!="date"){var _33=[_2e(_2c[_30+"Hours"]()),_2e(_2c[_30+"Minutes"]()),_2e(_2c[_30+"Seconds"]())].join(":");var _34=_2c[_30+"Milliseconds"]();if(_2d.milliseconds){_33+="."+(_34<100?"0":"")+_2e(_34);}if(_2d.zulu){_33+="Z";}else{if(_2d.selector!="time"){var _35=_2c.getTimezoneOffset();var _36=Math.abs(_35);_33+=(_35>0?"-":"+")+_2e(Math.floor(_36/60))+":"+_2e(_36%60);}}_2f.push(_33);}return _2f.join("T");};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_37){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_37.url;this._ccUrl=_37.url;this.url=_37.url;this._jsonData=_37.data;this.data=null;this._datatypeMap=_37.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_38){return dojo.date.stamp.fromISOString(_38);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_37.urlPreventCache!==undefined){this.urlPreventCache=_37.urlPreventCache?true:false;}if(_37.hierarchical!==undefined){this.hierarchical=_37.hierarchical?true:false;}if(_37.clearOnClose){this.clearOnClose=true;}if("failOk" in _37){this.failOk=_37.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(_39){if(!this.isItem(_39)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_3a){if(typeof _3a!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(_3b,_3c,_3d){var _3e=this.getValues(_3b,_3c);return (_3e.length>0)?_3e[0]:_3d;},getValues:function(_3f,_40){this._assertIsItem(_3f);this._assertIsAttribute(_40);return (_3f[_40]||[]).slice(0);},getAttributes:function(_41){this._assertIsItem(_41);var _42=[];for(var key in _41){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_42.push(key);}}return _42;},hasAttribute:function(_43,_44){this._assertIsItem(_43);this._assertIsAttribute(_44);return (_44 in _43);},containsValue:function(_45,_46,_47){var _48=undefined;if(typeof _47==="string"){_48=dojo.data.util.filter.patternToRegExp(_47,false);}return this._containsValue(_45,_46,_47,_48);},_containsValue:function(_49,_4a,_4b,_4c){return dojo.some(this.getValues(_49,_4a),function(_4d){if(_4d!==null&&!dojo.isObject(_4d)&&_4c){if(_4d.toString().match(_4c)){return true;}}else{if(_4b===_4d){return true;}}});},isItem:function(_4e){if(_4e&&_4e[this._storeRefPropName]===this){if(this._arrayOfAllItems[_4e[this._itemNumPropName]]===_4e){return true;}}return false;},isItemLoaded:function(_4f){return this.isItem(_4f);},loadItem:function(_50){this._assertIsItem(_50.item);},getFeatures:function(){return this._features;},getLabel:function(_51){if(this._labelAttr&&this.isItem(_51)){return this.getValue(_51,this._labelAttr);}return undefined;},getLabelAttributes:function(_52){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_53,_54,_55){var _56=this,_57=function(_58,_59){var _5a=[],i,key;if(_58.query){var _5b,_5c=_58.queryOptions?_58.queryOptions.ignoreCase:false;var _5d={};for(key in _58.query){_5b=_58.query[key];if(typeof _5b==="string"){_5d[key]=dojo.data.util.filter.patternToRegExp(_5b,_5c);}else{if(_5b instanceof RegExp){_5d[key]=_5b;}}}for(i=0;i<_59.length;++i){var _5e=true;var _5f=_59[i];if(_5f===null){_5e=false;}else{for(key in _58.query){_5b=_58.query[key];if(!_56._containsValue(_5f,key,_5b,_5d[key])){_5e=false;}}}if(_5e){_5a.push(_5f);}}_54(_5a,_58);}else{for(i=0;i<_59.length;++i){var _60=_59[i];if(_60!==null){_5a.push(_60);}}_54(_5a,_58);}};if(this._loadFinished){_57(_53,this._getItemsArray(_53.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_53,filter:_57});}else{this._loadInProgress=true;var _61={url:_56._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _62=dojo.xhrGet(_61);_62.addCallback(function(_63){try{_56._getItemsFromLoadedData(_63);_56._loadFinished=true;_56._loadInProgress=false;_57(_53,_56._getItemsArray(_53.queryOptions));_56._handleQueuedFetches();}catch(e){_56._loadFinished=true;_56._loadInProgress=false;_55(e,_53);}});_62.addErrback(function(_64){_56._loadInProgress=false;_55(_64,_53);});var _65=null;if(_53.abort){_65=_53.abort;}_53.abort=function(){var df=_62;if(df&&df.fired===-1){df.cancel();df=null;}if(_65){_65.call(_53);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_57(_53,this._getItemsArray(_53.queryOptions));}catch(e){_55(e,_53);}}else{_55(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_53);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _66=this._queuedFetches[i],_67=_66.args,_68=_66.filter;if(_68){_68(_67,this._getItemsArray(_67.queryOptions));}else{this.fetchItemByIdentity(_67);}}this._queuedFetches=[];}},_getItemsArray:function(_69){if(_69&&_69.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_6a){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_6b){var _6c=false,_6d=this;function _6e(_6f){var _70=((_6f!==null)&&(typeof _6f==="object")&&(!dojo.isArray(_6f)||_6c)&&(!dojo.isFunction(_6f))&&(_6f.constructor==Object||dojo.isArray(_6f))&&(typeof _6f._reference==="undefined")&&(typeof _6f._type==="undefined")&&(typeof _6f._value==="undefined")&&_6d.hierarchical);return _70;};function _71(_72){_6d._arrayOfAllItems.push(_72);for(var _73 in _72){var _74=_72[_73];if(_74){if(dojo.isArray(_74)){var _75=_74;for(var k=0;k<_75.length;++k){var _76=_75[k];if(_6e(_76)){_71(_76);}}}else{if(_6e(_74)){_71(_74);}}}}};this._labelAttr=_6b.label;var i,_77;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_6b.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){_77=this._arrayOfTopLevelItems[i];if(dojo.isArray(_77)){_6c=true;}_71(_77);_77[this._rootItemPropName]=true;}var _78={},key;for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];for(key in _77){if(key!==this._rootItemPropName){var _79=_77[key];if(_79!==null){if(!dojo.isArray(_79)){_77[key]=[_79];}}else{_77[key]=[null];}}_78[key]=key;}}while(_78[this._storeRefPropName]){this._storeRefPropName+="_";}while(_78[this._itemNumPropName]){this._itemNumPropName+="_";}while(_78[this._reverseRefMap]){this._reverseRefMap+="_";}var _7a;var _7b=_6b.identifier;if(_7b){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_7b;for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];_7a=_77[_7b];var _7c=_7a[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_7c)){this._itemsByIdentity[_7c]=_77;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_7b+"].  Value collided: ["+_7c+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_7b+"].  Value collided: ["+_7c+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];_77[this._storeRefPropName]=this;_77[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){_77=this._arrayOfAllItems[i];for(key in _77){_7a=_77[key];for(var j=0;j<_7a.length;++j){_79=_7a[j];if(_79!==null&&typeof _79=="object"){if(("_type" in _79)&&("_value" in _79)){var _7d=_79._type;var _7e=this._datatypeMap[_7d];if(!_7e){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+_7d+"'");}else{if(dojo.isFunction(_7e)){_7a[j]=new _7e(_79._value);}else{if(dojo.isFunction(_7e.deserialize)){_7a[j]=_7e.deserialize(_79._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_79._reference){var _7f=_79._reference;if(!dojo.isObject(_7f)){_7a[j]=this._getItemByIdentity(_7f);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _80=this._arrayOfAllItems[k],_81=true;for(var _82 in _7f){if(_80[_82]!=_7f[_82]){_81=false;}}if(_81){_7a[j]=_80;}}}if(this.referenceIntegrity){var _83=_7a[j];if(this.isItem(_83)){this._addReferenceToMap(_83,_77,key);}}}else{if(this.isItem(_79)){if(this.referenceIntegrity){this._addReferenceToMap(_79,_77,key);}}}}}}}},_addReferenceToMap:function(_84,_85,_86){},getIdentity:function(_87){var _88=this._features["dojo.data.api.Identity"];if(_88===Number){return _87[this._itemNumPropName];}else{var _89=_87[_88];if(_89){return _89[0];}}return null;},fetchItemByIdentity:function(_8a){var _8b,_8c;if(!this._loadFinished){var _8d=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_8a});}else{this._loadInProgress=true;var _8e={url:_8d._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _8f=dojo.xhrGet(_8e);_8f.addCallback(function(_90){var _91=_8a.scope?_8a.scope:dojo.global;try{_8d._getItemsFromLoadedData(_90);_8d._loadFinished=true;_8d._loadInProgress=false;_8b=_8d._getItemByIdentity(_8a.identity);if(_8a.onItem){_8a.onItem.call(_91,_8b);}_8d._handleQueuedFetches();}catch(error){_8d._loadInProgress=false;if(_8a.onError){_8a.onError.call(_91,error);}}});_8f.addErrback(function(_92){_8d._loadInProgress=false;if(_8a.onError){var _93=_8a.scope?_8a.scope:dojo.global;_8a.onError.call(_93,_92);}});}}else{if(this._jsonData){_8d._getItemsFromLoadedData(_8d._jsonData);_8d._jsonData=null;_8d._loadFinished=true;_8b=_8d._getItemByIdentity(_8a.identity);if(_8a.onItem){_8c=_8a.scope?_8a.scope:dojo.global;_8a.onItem.call(_8c,_8b);}}}}else{_8b=this._getItemByIdentity(_8a.identity);if(_8a.onItem){_8c=_8a.scope?_8a.scope:dojo.global;_8a.onItem.call(_8c,_8b);}}},_getItemByIdentity:function(_94){var _95=null;if(this._itemsByIdentity&&Object.hasOwnProperty.call(this._itemsByIdentity,_94)){_95=this._itemsByIdentity[_94];}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_94)){_95=this._arrayOfAllItems[_94];}}if(_95===undefined){_95=null;}return _95;},getIdentityAttributes:function(_96){var _97=this._features["dojo.data.api.Identity"];if(_97===Number){return null;}else{return [_97];}},_forceLoad:function(){var _98=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _99={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _9a=dojo.xhrGet(_99);_9a.addCallback(function(_9b){try{if(_98._loadInProgress!==true&&!_98._loadFinished){_98._getItemsFromLoadedData(_9b);_98._loadFinished=true;}else{if(_98._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_9a.addErrback(function(_9c){throw _9c;});}else{if(this._jsonData){_98._getItemsFromLoadedData(_98._jsonData);_98._jsonData=null;_98._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(_9d){var _9e=this;dojo.mixin(_9e,_9d);_9e.node=_9d.node;_9e._showArgs=dojo.mixin({},_9d);_9e._showArgs.node=_9e.node;_9e._showArgs.duration=_9e.showDuration;_9e.showAnim=_9e.showFunc(_9e._showArgs);_9e._hideArgs=dojo.mixin({},_9d);_9e._hideArgs.node=_9e.node;_9e._hideArgs.duration=_9e.hideDuration;_9e.hideAnim=_9e.hideFunc(_9e._hideArgs);dojo.connect(_9e.showAnim,"beforeBegin",dojo.hitch(_9e.hideAnim,"stop",true));dojo.connect(_9e.hideAnim,"beforeBegin",dojo.hitch(_9e.showAnim,"stop",true));},show:function(_9f){return this.showAnim.play(_9f||0);},hide:function(_a0){return this.hideAnim.play(_a0||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_a1={_fire:function(evt,_a2){if(this[evt]){this[evt].apply(this,_a2||[]);}return this;}};var _a3=function(_a4){this._index=-1;this._animations=_a4||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_a3,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_a5,_a6){if(!this._current){this._current=this._animations[this._index=0];}if(!_a6&&this._current.status()=="playing"){return this;}var _a7=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_a8=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_a9=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_a7);d.disconnect(_a8);d.disconnect(_a9);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_aa,_ab){this.pause();var _ac=this.duration*_aa;this._current=null;d.some(this._animations,function(a){if(a.duration<=_ac){this._current=a;return true;}_ac-=a.duration;return false;});if(this._current){this._current.gotoPercent(_ac/this._current.duration,_ab);}return this;},stop:function(_ad){if(this._current){if(_ad){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_a3,_a1);dojo.fx.chain=function(_ae){return new _a3(_ae);};var _af=function(_b0){this._animations=_b0||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_b0,function(a){var _b1=a.duration;if(a.delay){_b1+=a.delay;}if(this.duration<_b1){this.duration=_b1;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var _b2=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){_b2._connects.push(d.connect(_b2._pseudoAnimation,evt,function(){_b2._fire(evt,arguments);}));});};d.extend(_af,{_doAction:function(_b3,_b4){d.forEach(this._animations,function(a){a[_b3].apply(a,_b4);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_b5,_b6){var t=this._pseudoAnimation;t[_b5].apply(t,_b6);},play:function(_b7,_b8){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_b9,_ba){var ms=this.duration*_b9;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_ba);});this._call("gotoPercent",arguments);return this;},stop:function(_bb){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_af,_a1);dojo.fx.combine=function(_bc){return new _af(_bc);};dojo.fx.wipeIn=function(_bd){var _be=_bd.node=d.byId(_bd.node),s=_be.style,o;var _bf=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _c0=d.style(_be,"height");return Math.max(_c0,1);}},end:function(){return _be.scrollHeight;}}}},_bd));d.connect(_bf,"onEnd",function(){s.height="auto";s.overflow=o;});return _bf;};dojo.fx.wipeOut=function(_c1){var _c2=_c1.node=d.byId(_c1.node),s=_c2.style,o;var _c3=d.animateProperty(d.mixin({properties:{height:{end:1}}},_c1));d.connect(_c3,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(_c3,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return _c3;};dojo.fx.slideTo=function(_c4){var _c5=_c4.node=d.byId(_c4.node),top=null,_c6=null;var _c7=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_c6=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;_c6=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_c6+"px";}};})(_c5);_c7();var _c8=d.animateProperty(d.mixin({properties:{top:_c4.top||0,left:_c4.left||0}},_c4));d.connect(_c8,"beforeBegin",_c8,_c7);return _c8;};})();}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_c9){if(this._hash[_c9.id]){throw new Error("Tried to register widget with id=="+_c9.id+" but that id is already registered");}this._hash[_c9.id]=_c9;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(_ca,_cb){_cb=_cb||dojo.global;var i=0,id;for(id in this._hash){_ca.call(_cb,this._hash[id],i++,this._hash);}return this;},filter:function(_cc,_cd){_cd=_cd||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_cc.call(_cd,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_ce;for(id in this._hash){_ce=this._hash[id];if(_ce.declaredClass==cls){res.add(_ce);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(_cf,_d0){return dojo.map(this.toArray(),_cf,_d0);},every:function(_d1,_d2){_d2=_d2||dojo.global;var x=0,i;for(i in this._hash){if(!_d1.call(_d2,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(_d3,_d4){_d4=_d4||dojo.global;var x=0,i;for(i in this._hash){if(_d3.call(_d4,this._hash[i],x++,this._hash)){return true;}}return false;}});(function(){dijit.registry=new dijit.WidgetSet();var _d5=dijit.registry._hash,_d6=dojo.attr,_d7=dojo.hasAttr,_d8=dojo.style;dijit.byId=function(id){return typeof id=="string"?_d5[id]:id;};var _d9={};dijit.getUniqueId=function(_da){var id;do{id=_da+"_"+(_da in _d9?++_d9[_da]:_d9[_da]=0);}while(_d5[id]);return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(_db){var _dc=[];function _dd(_de){for(var _df=_de.firstChild;_df;_df=_df.nextSibling){if(_df.nodeType==1){var _e0=_df.getAttribute("widgetId");if(_e0){var _e1=_d5[_e0];if(_e1){_dc.push(_e1);}}else{_dd(_df);}}}};_dd(_db);return _dc;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_e2){if(!_e2._destroyed){if(_e2.destroyRecursive){_e2.destroyRecursive();}else{if(_e2.destroy){_e2.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byNode=function(_e3){return _d5[_e3.getAttribute("widgetId")];};dijit.getEnclosingWidget=function(_e4){while(_e4){var id=_e4.getAttribute&&_e4.getAttribute("widgetId");if(id){return _d5[id];}_e4=_e4.parentNode;}return null;};var _e5=(dijit._isElementShown=function(_e6){var s=_d8(_e6);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_d6(_e6,"type")!="hidden");});dijit.hasDefaultTabStop=function(_e7){switch(_e7.nodeName.toLowerCase()){case "a":return _d7(_e7,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var _e8;try{var _e9=_e7.contentDocument;if("designMode" in _e9&&_e9.designMode=="on"){return true;}_e8=_e9.body;}catch(e1){try{_e8=_e7.contentWindow.document.body;}catch(e2){return false;}}return _e8.contentEditable=="true"||(_e8.firstChild&&_e8.firstChild.contentEditable=="true");default:return _e7.contentEditable=="true";}};var _ea=(dijit.isTabNavigable=function(_eb){if(_d6(_eb,"disabled")){return false;}else{if(_d7(_eb,"tabIndex")){return _d6(_eb,"tabIndex")>=0;}else{return dijit.hasDefaultTabStop(_eb);}}});dijit._getTabNavigable=function(_ec){var _ed,_ee,_ef,_f0,_f1,_f2,_f3={};function _f4(_f5){return _f5&&_f5.tagName.toLowerCase()=="input"&&_f5.type&&_f5.type.toLowerCase()=="radio"&&_f5.name&&_f5.name.toLowerCase();};var _f6=function(_f7){dojo.query("> *",_f7).forEach(function(_f8){if((dojo.isIE&&_f8.scopeName!=="HTML")||!_e5(_f8)){return;}if(_ea(_f8)){var _f9=_d6(_f8,"tabIndex");if(!_d7(_f8,"tabIndex")||_f9==0){if(!_ed){_ed=_f8;}_ee=_f8;}else{if(_f9>0){if(!_ef||_f9<_f0){_f0=_f9;_ef=_f8;}if(!_f1||_f9>=_f2){_f2=_f9;_f1=_f8;}}}var rn=_f4(_f8);if(dojo.attr(_f8,"checked")&&rn){_f3[rn]=_f8;}}if(_f8.nodeName.toUpperCase()!="SELECT"){_f6(_f8);}});};if(_e5(_ec)){_f6(_ec);}function rs(_fa){return _f3[_f4(_fa)]||_fa;};return {first:rs(_ed),last:rs(_ee),lowest:rs(_ef),highest:rs(_f1)};};dijit.getFirstInTabbingOrder=function(_fb){var _fc=dijit._getTabNavigable(dojo.byId(_fb));return _fc.lowest?_fc.lowest:_fc.first;};dijit.getLastInTabbingOrder=function(_fd){var _fe=dijit._getTabNavigable(dojo.byId(_fd));return _fe.last?_fe.last:_fe.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;})();}if(!dojo._hasResource["dojo.Stateful"]){dojo._hasResource["dojo.Stateful"]=true;dojo.provide("dojo.Stateful");dojo.declare("dojo.Stateful",null,{postscript:function(_ff){if(_ff){dojo.mixin(this,_ff);}},get:function(name){return this[name];},set:function(name,_100){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _101=this[name];this[name]=_100;if(this._watchCallbacks){this._watchCallbacks(name,_101,_100);}return this;},watch:function(name,_102){var _103=this._watchCallbacks;if(!_103){var self=this;_103=this._watchCallbacks=function(name,_104,_105,_106){var _107=function(_108){if(_108){_108=_108.slice();for(var i=0,l=_108.length;i<l;i++){try{_108[i].call(self,name,_104,_105);}catch(e){console.error(e);}}}};_107(_103["_"+name]);if(!_106){_107(_103["*"]);}};}if(!_102&&typeof name==="function"){_102=name;name="*";}else{name="_"+name;}var _109=_103[name];if(typeof _109!=="object"){_109=_103[name]=[];}_109.push(_102);return {unwatch:function(){_109.splice(dojo.indexOf(_109,_102),1);}};}});}if(!dojo._hasResource["dijit._WidgetBase"]){dojo._hasResource["dijit._WidgetBase"]=true;dojo.provide("dijit._WidgetBase");(function(){dojo.declare("dijit._WidgetBase",dojo.Stateful,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_10a,_10b){this.create(_10a,_10b);},create:function(_10c,_10d){this.srcNodeRef=dojo.byId(_10d);this._connects=[];this._subscribes=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_10c){this.params=_10c;dojo._mixin(this,_10c);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _10e=this.srcNodeRef;if(_10e&&_10e.parentNode&&this.domNode!==_10e){_10e.parentNode.replaceChild(this.domNode,_10e);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _10f=function(attr,_110){if((_110.params&&attr in _110.params)||_110[attr]){_110.set(attr,_110[attr]);}};for(var attr in this.attributeMap){_10f(attr,this);}dojo.forEach(this._getSetterAttributes(),function(a){if(!(a in this.attributeMap)){_10f(a,this);}},this);},_getSetterAttributes:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var r=(ctor._setterAttrs=[]),_111,_112=ctor.prototype;for(var _113 in _112){if(dojo.isFunction(_112[_113])&&(_111=_113.match(/^_set([a-zA-Z]*)Attr$/))&&_111[1]){r.push(_111[1].charAt(0).toLowerCase()+_111[1].substr(1));}}}return ctor._setterAttrs;},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||dojo.create("div");}if(this.baseClass){var _114=this.baseClass.split(" ");if(!this.isLeftToRight()){_114=_114.concat(dojo.map(_114,function(name){return name+"Rtl";}));}dojo.addClass(this.domNode,_114);}},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_115){this._beingDestroyed=true;this.destroyDescendants(_115);this.destroy(_115);},destroy:function(_116){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_117){dfe(_117,d.disconnect);});dfe(this._subscribes,function(_118){dun(_118);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_116);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_119){if(this.bgIframe){this.bgIframe.destroy(_119);delete this.bgIframe;}if(this.domNode){if(_119){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_119){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_11a){dojo.forEach(this.getChildren(),function(_11b){if(_11b.destroyRecursive){_11b.destroyRecursive(_11a);}});},uninitialize:function(){return false;},_setClassAttr:function(_11c){var _11d=this[this.attributeMap["class"]||"domNode"];dojo.replaceClass(_11d,_11c,this["class"]);this._set("class",_11c);},_setStyleAttr:function(_11e){var _11f=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_11e)){dojo.style(_11f,_11e);}else{if(_11f.style.cssText){_11f.style.cssText+="; "+_11e;}else{_11f.style.cssText=_11e;}}this._set("style",_11e);},_attrToDom:function(attr,_120){var _121=this.attributeMap[attr];dojo.forEach(dojo.isArray(_121)?_121:[_121],function(_122){var _123=this[_122.node||_122||"domNode"];var type=_122.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_120)){_120=dojo.hitch(this,_120);}var _124=_122.attribute?_122.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_123,_124,_120);break;case "innerText":_123.innerHTML="";_123.appendChild(dojo.doc.createTextNode(_120));break;case "innerHTML":_123.innerHTML=_120;break;case "class":dojo.replaceClass(_123,_120,this[attr]);break;}},this);},get:function(name){var _125=this._getAttrNames(name);return this[_125.g]?this[_125.g]():this[name];},set:function(name,_126){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _127=this._getAttrNames(name);if(this[_127.s]){var _128=this[_127.s].apply(this,Array.prototype.slice.call(arguments,1));}else{if(name in this.attributeMap){this._attrToDom(name,_126);}this._set(name,_126);}return _128||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_129){var _12a=this[name];this[name]=_129;if(this._watchCallbacks&&this._created&&_129!==_12a){this._watchCallbacks(name,_12a,_129);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},connect:function(obj,_12b,_12c){var _12d=[dojo._connect(obj,_12b,this,_12c)];this._connects.push(_12d);return _12d;},disconnect:function(_12e){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_12e){dojo.forEach(_12e,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_12f,_130){var _131=dojo.subscribe(_12f,this,_130);this._subscribes.push(_131);return _131;},unsubscribe:function(_132){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_132){dojo.unsubscribe(_132);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):dojo._isBodyLtr();},placeAt:function(_133,_134){if(_133.declaredClass&&_133.addChild){_133.addChild(this,_134);}else{dojo.place(this.domNode,_133,_134);}return this;}});})();}if(!dojo._hasResource["dojo.window"]){dojo._hasResource["dojo.window"]=true;dojo.provide("dojo.window");dojo.getObject("window",true,dojo);dojo.window.getBox=function(){var _135=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _136=dojo._docScroll();return {w:_135.clientWidth,h:_135.clientHeight,l:_136.x,t:_136.y};};dojo.window.get=function(doc){if(dojo.isIE&&window!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;};dojo.window.scrollIntoView=function(node,pos){try{node=dojo.byId(node);var doc=node.ownerDocument||dojo.doc,body=doc.body||dojo.body(),html=doc.documentElement||body.parentNode,isIE=dojo.isIE,isWK=dojo.isWebKit;if((!(dojo.isMoz||isIE||isWK||dojo.isOpera)||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _137=doc.compatMode=="BackCompat",_138=_137?body:html,_139=isWK?body:_138,_13a=_138.clientWidth,_13b=_138.clientHeight,rtl=!dojo._isBodyLtr(),_13c=pos||dojo.position(node),el=node.parentNode,_13d=function(el){return ((isIE<=6||(isIE&&_137))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_13d(node)){return;}while(el){if(el==body){el=_139;}var _13e=dojo.position(el),_13f=_13d(el);if(el==_139){_13e.w=_13a;_13e.h=_13b;if(_139==html&&isIE&&rtl){_13e.x+=_139.offsetWidth-_13e.w;}if(_13e.x<0||!isIE){_13e.x=0;}if(_13e.y<0||!isIE){_13e.y=0;}}else{var pb=dojo._getPadBorderExtents(el);_13e.w-=pb.w;_13e.h-=pb.h;_13e.x+=pb.l;_13e.y+=pb.t;}if(el!=_139){var _140=el.clientWidth,_141=_13e.w-_140;if(_140>0&&_141>0){_13e.w=_140;if(isIE&&rtl){_13e.x+=_141;}}_140=el.clientHeight;_141=_13e.h-_140;if(_140>0&&_141>0){_13e.h=_140;}}if(_13f){if(_13e.y<0){_13e.h+=_13e.y;_13e.y=0;}if(_13e.x<0){_13e.w+=_13e.x;_13e.x=0;}if(_13e.y+_13e.h>_13b){_13e.h=_13b-_13e.y;}if(_13e.x+_13e.w>_13a){_13e.w=_13a-_13e.x;}}var l=_13c.x-_13e.x,t=_13c.y-Math.max(_13e.y,0),r=l+_13c.w-_13e.w,bot=t+_13c.h-_13e.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_13c.x+=el.scrollLeft;el.scrollLeft+=(isIE>=8&&!_137&&rtl)?-s:s;_13c.x-=el.scrollLeft;}if(bot*t>0){_13c.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_13c.y-=el.scrollTop;}el=(el!=_139)&&!_13f&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_142){var _143=dojo.doc,mark=_142.mark;if(mark){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var r=mark;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_143.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(dojo.isArray(mark)){rg=_143.body.createControlRange();dojo.forEach(mark,function(n){rg.addElement(n);});}else{rg=_143.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_144){var node=!dijit._curFocus||(menu&&dojo.isDescendant(dijit._curFocus,menu.domNode))?dijit._prevFocus:dijit._curFocus;return {node:node,bookmark:(node==dijit._curFocus)&&dojo.withGlobal(_144||dojo.global,dijit.getBookmark),openedForWindow:_144};},focus:function(_145){if(!_145){return;}var node="node" in _145?_145.node:_145,_146=_145.bookmark,_147=_145.openedForWindow,_148=_146?_146.isCollapsed:false;if(node){var _149=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_149&&_149.focus){try{_149.focus();}catch(e){}}dijit._onFocusNode(node);}if(_146&&dojo.withGlobal(_147||dojo.global,dijit.isCollapsed)&&!_148){if(_147){_147.focus();}try{dojo.withGlobal(_147||dojo.global,dijit.moveToBookmark,null,[_146]);}catch(e2){}}},_activeStack:[],registerIframe:function(_14a){return dijit.registerWin(_14a.contentWindow,_14a);},unregisterIframe:function(_14b){dijit.unregisterWin(_14b);},registerWin:function(_14c,_14d){var _14e=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_14d||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_14c.document.documentElement:_14c.document;if(doc){if(dojo.isIE){_14c.document.body.attachEvent("onmousedown",_14e);var _14f=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_14d||evt.srcElement);}else{dijit._onTouchNode(_14d||evt.srcElement);}};doc.attachEvent("onactivate",_14f);var _150=function(evt){dijit._onBlurNode(_14d||evt.srcElement);};doc.attachEvent("ondeactivate",_150);return function(){_14c.document.detachEvent("onmousedown",_14e);doc.detachEvent("onactivate",_14f);doc.detachEvent("ondeactivate",_150);doc=null;};}else{doc.body.addEventListener("mousedown",_14e,true);var _151=function(evt){dijit._onFocusNode(_14d||evt.target);};doc.addEventListener("focus",_151,true);var _152=function(evt){dijit._onBlurNode(_14d||evt.target);};doc.addEventListener("blur",_152,true);return function(){doc.body.removeEventListener("mousedown",_14e,true);doc.removeEventListener("focus",_151,true);doc.removeEventListener("blur",_152,true);doc=null;};}}},unregisterWin:function(_153){_153&&_153();},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _154=[];try{while(node){var _155=dojo.attr(node,"dijitPopupParent");if(_155){node=dijit.byId(_155).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dojo.window.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_156=id&&dijit.byId(id);if(_156&&!(by=="mouse"&&_156.get("disabled"))){_154.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_154,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_157,by){var _158=dijit._activeStack;dijit._activeStack=_157;for(var _159=0;_159<Math.min(_158.length,_157.length);_159++){if(_158[_159]!=_157[_159]){break;}}var _15a;for(var i=_158.length-1;i>=_159;i--){_15a=dijit.byId(_158[i]);if(_15a){_15a._focused=false;_15a.set("focused",false);_15a._hasBeenBlurred=true;if(_15a._onBlur){_15a._onBlur(by);}dojo.publish("widgetBlur",[_15a,by]);}}for(i=_159;i<_157.length;i++){_15a=dijit.byId(_157[i]);if(_15a){_15a._focused=true;_15a.set("focused",true);if(_15a._onFocus){_15a._onFocus(by);}dojo.publish("widgetFocus",[_15a,by]);}}}});dojo.addOnLoad(function(){var _15b=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_15b);_15b=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_15c){this.pairs=[];this.returnWrappers=_15c||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_15d,wrap,_15e,_15f){this.pairs[((_15f)?"unshift":"push")]([name,_15d,wrap,_15e]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){return dojo.window.getBox();};dijit.placeOnScreen=function(node,pos,_160,_161){var _162=dojo.map(_160,function(_163){var c={corner:_163,pos:{x:pos.x,y:pos.y}};if(_161){c.pos.x+=_163.charAt(1)=="L"?_161.x:-_161.x;c.pos.y+=_163.charAt(0)=="T"?_161.y:-_161.y;}return c;});return dijit._place(node,_162);};dijit._place=function(node,_164,_165,_166){var view=dojo.window.getBox();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_164,function(_167){var _168=_167.corner;var pos=_167.pos;var _169=0;var _16a={w:_168.charAt(1)=="L"?(view.l+view.w)-pos.x:pos.x-view.l,h:_168.charAt(1)=="T"?(view.t+view.h)-pos.y:pos.y-view.t};if(_165){var res=_165(node,_167.aroundCorner,_168,_16a,_166);_169=typeof res=="undefined"?0:res;}var _16b=node.style;var _16c=_16b.display;var _16d=_16b.visibility;_16b.visibility="hidden";_16b.display="";var mb=dojo.marginBox(node);_16b.display=_16c;_16b.visibility=_16d;var _16e=Math.max(view.l,_168.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_16f=Math.max(view.t,_168.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_168.charAt(1)=="L"?(_16e+mb.w):pos.x),endY=Math.min(view.t+view.h,_168.charAt(0)=="T"?(_16f+mb.h):pos.y),_170=endX-_16e,_171=endY-_16f;_169+=(mb.w-_170)+(mb.h-_171);if(best==null||_169<best.overflow){best={corner:_168,aroundCorner:_167.aroundCorner,x:_16e,y:_16f,w:_170,h:_171,overflow:_169,spaceAvailable:_16a};}return !_169;});if(best.overflow&&_165){_165(node,best.aroundCorner,best.corner,best.spaceAvailable,_166);}var l=dojo._isBodyLtr(),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";return best;};dijit.placeOnScreenAroundNode=function(node,_172,_173,_174){_172=dojo.byId(_172);var _175=dojo.position(_172,true);return dijit._placeOnScreenAroundRect(node,_175.x,_175.y,_175.w,_175.h,_173,_174);};dijit.placeOnScreenAroundRectangle=function(node,_176,_177,_178){return dijit._placeOnScreenAroundRect(node,_176.x,_176.y,_176.width,_176.height,_177,_178);};dijit._placeOnScreenAroundRect=function(node,x,y,_179,_17a,_17b,_17c){var _17d=[];for(var _17e in _17b){_17d.push({aroundCorner:_17e,corner:_17b[_17e],pos:{x:x+(_17e.charAt(1)=="L"?0:_179),y:y+(_17e.charAt(0)=="T"?0:_17a)}});}return dijit._place(node,_17d,_17c,{w:_179,h:_17a});};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_17f,_180,_181){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAroundAlignment=function(_182,_183){var _184={};dojo.forEach(_182,function(pos){switch(pos){case "after":_184[_183?"BR":"BL"]=_183?"BL":"BR";break;case "before":_184[_183?"BL":"BR"]=_183?"BR":"BL";break;case "below-alt":_183=!_183;case "below":_184[_183?"BL":"BR"]=_183?"TL":"TR";_184[_183?"BR":"BL"]=_183?"TR":"TL";break;case "above-alt":_183=!_183;case "above":default:_184[_183?"TL":"TR"]=_183?"BL":"BR";_184[_183?"TR":"TL"]=_183?"BR":"BL";break;}});return _184;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){return dojo.window.get(doc);};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_185){var _186=_185.declaredClass?_185._popupWrapper:(dojo.hasClass(_185.parentNode,"dijitPopup")&&_185.parentNode),node=_185.domNode||_185;if(!_186){_186=dojo.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},dojo.body());_186.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";if(_185.declaredClass){_185._popupWrapper=_186;dojo.connect(_185,"destroy",function(){dojo.destroy(_186);delete _185._popupWrapper;});}}return _186;},moveOffScreen:function(_187){var _188=this._createWrapper(_187);dojo.style(_188,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_189){var _18a=this._createWrapper(_189);dojo.style(_18a,"display","none");},getTopPopup:function(){var _18b=this._stack;for(var pi=_18b.length-1;pi>0&&_18b[pi].parent===_18b[pi-1].widget;pi--){}return _18b[pi];},open:function(args){var _18c=this._stack,_18d=args.popup,_18e=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_18f=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_18c.length&&(!args.parent||!dojo.isDescendant(args.parent.domNode,_18c[_18c.length-1].widget.domNode))){dijit.popup.close(_18c[_18c.length-1].widget);}var _190=this._createWrapper(_18d);dojo.attr(_190,{id:id,style:{zIndex:this._beginZIndex+_18c.length},"class":"dijitPopup "+(_18d.baseClass||_18d["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){if(!_18d.bgIframe){_18d.bgIframe=new dijit.BackgroundIframe(_190);}}var best=_18f?dijit.placeOnScreenAroundElement(_190,_18f,_18e,_18d.orient?dojo.hitch(_18d,"orient"):null):dijit.placeOnScreen(_190,args,_18e=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_190.style.display="";_190.style.visibility="visible";_18d.domNode.style.visibility="visible";var _191=[];_191.push(dojo.connect(_190,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _192=this.getTopPopup();if(_192&&_192.onCancel){_192.onCancel();}}}}));if(_18d.onCancel){_191.push(dojo.connect(_18d,"onCancel",args.onCancel));}_191.push(dojo.connect(_18d,_18d.onExecute?"onExecute":"onChange",this,function(){var _193=this.getTopPopup();if(_193&&_193.onExecute){_193.onExecute();}}));_18c.push({widget:_18d,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_191});if(_18d.onOpen){_18d.onOpen(best);}return best;},close:function(_194){var _195=this._stack;while((_194&&dojo.some(_195,function(elem){return elem.widget==_194;}))||(!_194&&_195.length)){var top=_195.pop(),_196=top.widget,_197=top.onClose;if(_196.onClose){_196.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_196&&_196.domNode){this.hide(_196);}if(_197){_197();}}}};dijit._frames=new function(){var _198=[];this.pop=function(){var _199;if(_198.length){_199=_198.pop();_199.style.display="";}else{if(dojo.isIE<9){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_199=dojo.doc.createElement(html);}else{_199=dojo.create("iframe");_199.src="javascript:\"\"";_199.className="dijitBackgroundIframe";dojo.style(_199,"opacity",0.1);}_199.tabIndex=-1;dijit.setWaiRole(_199,"presentation");}return _199;};this.push=function(_19a){_19a.style.display="none";_198.push(_19a);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _19b=(this.iframe=dijit._frames.pop());node.appendChild(_19b);if(dojo.isIE<7||dojo.isQuirks){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_19b,{width:"100%",height:"100%"});}}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){dojo.window.scrollIntoView(node,pos);};}if(!dojo._hasResource["dojo.uacss"]){dojo._hasResource["dojo.uacss"]=true;dojo.provide("dojo.uacss");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_19c=d.isOpera,maj=Math.floor,ff=d.isFF,_19d=d.boxModel.replace(/-/,""),_19e={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_ie9:maj(ie)==9,dj_quirks:d.isQuirks,dj_iequirks:ie&&d.isQuirks,dj_opera:_19c,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_19e["dj_"+_19d]=true;var _19f="";for(var clz in _19e){if(_19e[clz]){_19f+=clz+" ";}}html.className=d.trim(html.className+" "+_19f);dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){var _1a0="dj_rtl dijitRtl "+_19f.replace(/ /g,"-rtl ");html.className=d.trim(html.className+" "+_1a0);}});})();}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_1a1,node,_1a2,obj,_1a3,_1a4,_1a5){if(obj!=this._obj){this.stop();this._initialDelay=_1a4||500;this._subsequentDelay=_1a3||0.9;this._minDelay=_1a5||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_1a1,_1a2);this._fireEventAndReload();this._evt=dojo.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_1a6,_1a7,_1a8,_1a9,_1aa,_1ab){if(_1a6.keyCode){_1a6.charOrCode=_1a6.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_1a6.charCode){_1a6.charOrCode=String.fromCharCode(_1a6.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_1a6.charOrCode&&(_1a6.ctrlKey===undefined||_1a6.ctrlKey==evt.ctrlKey)&&(_1a6.altKey===undefined||_1a6.altKey==evt.altKey)&&(_1a6.metaKey===undefined||_1a6.metaKey==(evt.metaKey||false))&&(_1a6.shiftKey===undefined||_1a6.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_1a7,node,_1a8,_1a6,_1a9,_1aa,_1ab);}else{if(dijit.typematic._obj==_1a6){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_1a6){dijit.typematic.stop();}})];},addMouseListener:function(node,_1ac,_1ad,_1ae,_1af,_1b0){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_1ac,node,_1ad,node,_1ae,_1af,_1b0);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){evt.preventDefault();}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_1ac,node,_1ad,node,_1ae,_1af,_1b0);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_1b1,_1b2,_1b3,_1b4,_1b5,_1b6,_1b7,_1b8){return this.addKeyListener(_1b2,_1b3,_1b4,_1b5,_1b6,_1b7,_1b8).concat(this.addMouseListener(_1b1,_1b4,_1b5,_1b6,_1b7,_1b8));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _1b9=cs.backgroundImage;var _1ba=(cs.borderTopColor==cs.borderRightColor)||(_1b9!=null&&(_1b9=="none"||_1b9=="url(invalid-url:)"));dojo[_1ba?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem,role){var _1bb=this.getWaiRole(elem);return role?(_1bb.indexOf(role)>-1):(_1bb.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){dojo.attr(elem,"role",role);},removeWaiRole:function(elem,role){var _1bc=dojo.attr(elem,"role");if(!_1bc){return;}if(role){var t=dojo.trim((" "+_1bc+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_1bd){return elem.hasAttribute?elem.hasAttribute("aria-"+_1bd):!!elem.getAttribute("aria-"+_1bd);},getWaiState:function(elem,_1be){return elem.getAttribute("aria-"+_1be)||"";},setWaiState:function(elem,_1bf,_1c0){elem.setAttribute("aria-"+_1bf,_1c0);},removeWaiState:function(elem,_1c1){elem.removeAttribute("aria-"+_1c1);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.connect(dojo,"_connect",function(_1c2,_1c3){if(_1c2&&dojo.isFunction(_1c2._onConnect)){_1c2._onConnect(_1c3);}});dijit._connectOnUseEventHandler=function(_1c4){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _1c5=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_1c5);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_1c5);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){dojo.declare("dijit._Widget",dijit._WidgetBase,{_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,create:function(_1c6,_1c7){this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}this.inherited(arguments);if(this.domNode){for(attr in this.params){this._onConnect(attr);}}},_onConnect:function(_1c8){if(_1c8 in this._deferredConnects){var _1c9=this[this._deferredConnects[_1c8]||"domNode"];this.connect(_1c9,_1c8.toLowerCase(),_1c8);delete this._deferredConnects[_1c8];}},focused:false,isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_1ca){dojo.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_1ca);},attr:function(name,_1cb){if(dojo.config.isDebug){var _1cc=arguments.callee._ach||(arguments.callee._ach={}),_1cd=(arguments.callee.caller||"unknown caller").toString();if(!_1cc[_1cd]){dojo.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_1cd,"","2.0");_1cc[_1cd]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},nodesWithKeyClick:["input","button"],connect:function(obj,_1ce,_1cf){var d=dojo,dc=d._connect,_1d0=this.inherited(arguments,[obj,_1ce=="ondijitclick"?"onclick":_1ce,_1cf]);if(_1ce=="ondijitclick"){if(d.indexOf(this.nodesWithKeyClick,obj.nodeName.toLowerCase())==-1){var m=d.hitch(this,_1cf);_1d0.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;if(!("openDropDown" in this&&obj==this._buttonNode)){e.preventDefault();}}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target==dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}}return _1d0;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.getObject("string",true,dojo);dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_1d1,map,_1d2,_1d3){_1d3=_1d3||dojo.global;_1d2=_1d2?dojo.hitch(_1d3,_1d2):function(v){return v;};return _1d1.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1d4,key,_1d5){var _1d6=dojo.getObject(key,false,map);if(_1d5){_1d6=dojo.getObject(_1d5,false,_1d3).call(_1d3,_1d6,key);}return _1d2(_1d6,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");new Date("X");dojo.parser=new function(){var d=dojo;function _1d7(_1d8){if(d.isString(_1d8)){return "string";}if(typeof _1d8=="number"){return "number";}if(typeof _1d8=="boolean"){return "boolean";}if(d.isFunction(_1d8)){return "function";}if(d.isArray(_1d8)){return "array";}if(_1d8 instanceof Date){return "date";}if(_1d8 instanceof d._Url){return "url";}return "object";};function _1d9(_1da,type){switch(type){case "string":return _1da;case "number":return _1da.length?Number(_1da):NaN;case "boolean":return typeof _1da=="boolean"?_1da:!(_1da.toLowerCase()=="false");case "function":if(d.isFunction(_1da)){_1da=_1da.toString();_1da=d.trim(_1da.substring(_1da.indexOf("{")+1,_1da.length-1));}try{if(_1da===""||_1da.search(/[^\w\.]+/i)!=-1){return new Function(_1da);}else{return d.getObject(_1da,false)||new Function(_1da);}}catch(e){return new Function();}case "array":return _1da?_1da.split(/\s*,\s*/):[];case "date":switch(_1da){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_1da);}case "url":return d.baseUrl+_1da;default:return d.fromJson(_1da);}};var _1db={},_1dc={};d.connect(d,"extend",function(){_1dc={};});function _1dd(cls,_1de){for(var name in cls){if(name.charAt(0)=="_"){continue;}if(name in _1db){continue;}_1de[name]=_1d7(cls[name]);}return _1de;};function _1df(_1e0,_1e1){var c=_1dc[_1e0];if(!c){var cls=d.getObject(_1e0),_1e2=null;if(!cls){return null;}if(!_1e1){_1e2=_1dd(cls.prototype,{});}c={cls:cls,params:_1e2};}else{if(!_1e1&&!c.params){c.params=_1dd(c.cls.prototype,{});}}return c;};this._functionFromScript=function(_1e3,_1e4){var _1e5="";var _1e6="";var _1e7=(_1e3.getAttribute(_1e4+"args")||_1e3.getAttribute("args"));if(_1e7){d.forEach(_1e7.split(/\s*,\s*/),function(part,idx){_1e5+="var "+part+" = arguments["+idx+"]; ";});}var _1e8=_1e3.getAttribute("with");if(_1e8&&_1e8.length){d.forEach(_1e8.split(/\s*,\s*/),function(part){_1e5+="with("+part+"){";_1e6+="}";});}return new Function(_1e5+_1e3.innerHTML+_1e6);};this.instantiate=function(_1e9,_1ea,args){var _1eb=[],_1ea=_1ea||{};args=args||{};var _1ec=(args.scope||d._scopeName)+"Type",_1ed="data-"+(args.scope||d._scopeName)+"-";d.forEach(_1e9,function(obj){if(!obj){return;}var node,type,_1ee,_1ef,_1f0,_1f1;if(obj.node){node=obj.node;type=obj.type;_1f1=obj.fastpath;_1ee=obj.clsInfo||(type&&_1df(type,_1f1));_1ef=_1ee&&_1ee.cls;_1f0=obj.scripts;}else{node=obj;type=_1ec in _1ea?_1ea[_1ec]:node.getAttribute(_1ec);_1ee=type&&_1df(type);_1ef=_1ee&&_1ee.cls;_1f0=(_1ef&&(_1ef._noScript||_1ef.prototype._noScript)?[]:d.query("> script[type^='dojo/']",node));}if(!_1ee){throw new Error("Could not load class '"+type);}var _1f2={};if(args.defaults){d._mixin(_1f2,args.defaults);}if(obj.inherited){d._mixin(_1f2,obj.inherited);}if(_1f1){var _1f3=node.getAttribute(_1ed+"props");if(_1f3&&_1f3.length){try{_1f3=d.fromJson.call(args.propsThis,"{"+_1f3+"}");d._mixin(_1f2,_1f3);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_1f3+"'");}}var _1f4=node.getAttribute(_1ed+"attach-point");if(_1f4){_1f2.dojoAttachPoint=_1f4;}var _1f5=node.getAttribute(_1ed+"attach-event");if(_1f5){_1f2.dojoAttachEvent=_1f5;}dojo.mixin(_1f2,_1ea);}else{var _1f6=node.attributes;for(var name in _1ee.params){var item=name in _1ea?{value:_1ea[name],specified:true}:_1f6.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _1f7=item.value;switch(name){case "class":_1f7="className" in _1ea?_1ea.className:node.className;break;case "style":_1f7="style" in _1ea?_1ea.style:(node.style&&node.style.cssText);}var _1f8=_1ee.params[name];if(typeof _1f7=="string"){_1f2[name]=_1d9(_1f7,_1f8);}else{_1f2[name]=_1f7;}}}var _1f9=[],_1fa=[];d.forEach(_1f0,function(_1fb){node.removeChild(_1fb);var _1fc=(_1fb.getAttribute(_1ed+"event")||_1fb.getAttribute("event")),type=_1fb.getAttribute("type"),nf=d.parser._functionFromScript(_1fb,_1ed);if(_1fc){if(type=="dojo/connect"){_1f9.push({event:_1fc,func:nf});}else{_1f2[_1fc]=nf;}}else{_1fa.push(nf);}});var _1fd=_1ef.markupFactory||_1ef.prototype&&_1ef.prototype.markupFactory;var _1fe=_1fd?_1fd(_1f2,node,_1ef):new _1ef(_1f2,node);_1eb.push(_1fe);var _1ff=(node.getAttribute(_1ed+"id")||node.getAttribute("jsId"));if(_1ff){d.setObject(_1ff,_1fe);}d.forEach(_1f9,function(_200){d.connect(_1fe,_200.event,null,_200.func);});d.forEach(_1fa,function(func){func.call(_1fe);});});if(!_1ea._started){d.forEach(_1eb,function(_201){if(!args.noStart&&_201&&dojo.isFunction(_201.startup)&&!_201._started&&(!_201.getParent||!_201.getParent())){_201.startup();}});}return _1eb;};this.parse=function(_202,args){var root;if(!args&&_202&&_202.rootNode){args=_202;root=args.rootNode;}else{root=_202;}args=args||{};var _203=(args.scope||d._scopeName)+"Type",_204="data-"+(args.scope||d._scopeName)+"-";function scan(_205,list){var _206=dojo.clone(_205.inherited);dojo.forEach(["dir","lang"],function(name){var val=_205.node.getAttribute(name);if(val){_206[name]=val;}});var _207=_205.clsInfo&&!_205.clsInfo.cls.prototype._noScript?_205.scripts:null;var _208=(!_205.clsInfo||!_205.clsInfo.cls.prototype.stopParser)||(args&&args.template);for(var _209=_205.node.firstChild;_209;_209=_209.nextSibling){if(_209.nodeType==1){var type,_20a=_208&&_209.getAttribute(_204+"type");if(_20a){type=_20a;}else{type=_208&&_209.getAttribute(_203);}var _20b=_20a==type;if(type){var _20c={"type":type,fastpath:_20b,clsInfo:_1df(type,_20b),node:_209,scripts:[],inherited:_206};list.push(_20c);scan(_20c,list);}else{if(_207&&_209.nodeName.toLowerCase()=="script"){type=_209.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_207.push(_209);}}else{if(_208){scan({node:_209,inherited:_206},list);}}}}}};var list=[];scan({node:root?dojo.byId(root):dojo.body(),inherited:(args&&args.inherited)||{dir:dojo._isBodyLtr()?"ltr":"rtl"}},list);var _20d=args&&args.template?{template:true}:null;return this.instantiate(list,_20d,args);};}();(function(){var _20e=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.getObject("dijit.wai.onload")===dojo._loaders[0]){dojo._loaders.splice(1,0,_20e);}else{dojo._loaders.unshift(_20e);}})();}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");var cache={};dojo.cache=function(_20f,url,_210){if(typeof _20f=="string"){var _211=dojo.moduleUrl(_20f,url);}else{_211=_20f;_210=url;}var key=_211.toString();var val=_210;if(_210!=undefined&&!dojo.isString(_210)){val=("value" in _210?_210.value:undefined);}var _212=_210&&_210.sanitize?true:false;if(typeof val=="string"){val=cache[key]=_212?dojo.cache._sanitize(val):val;}else{if(val===null){delete cache[key];}else{if(!(key in cache)){val=dojo._getText(key);cache[key]=_212?dojo.cache._sanitize(val):val;}val=cache[key];}}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _213=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_213){val=_213[1];}}else{val="";}return val;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _214=this.declaredClass,_215=this;return dojo.string.substitute(tmpl,this,function(_216,key){if(key.charAt(0)=="!"){_216=dojo.getObject(key.substr(1),false,_215);}if(typeof _216=="undefined"){throw new Error(_214+" template:"+key);}if(_216==null){return "";}return key.charAt(0)=="!"?_216:_216.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _217=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_217)){node=dojo._toDom(this._stringRepl(_217));if(node.nodeType!=1){throw new Error("Invalid template: "+_217);}}else{node=_217.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"}));this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_218){var dest=this.containerNode;if(_218&&dest){while(_218.hasChildNodes()){dest.appendChild(_218.firstChild);}}},_attachTemplateNodes:function(_219,_21a){_21a=_21a||function(n,p){return n.getAttribute(p);};var _21b=dojo.isArray(_219)?_219:(_219.all||_219.getElementsByTagName("*"));var x=dojo.isArray(_219)?0:-1;for(;x<_21b.length;x++){var _21c=(x==-1)?_219:_21b[x];if(this.widgetsInTemplate&&(_21a(_21c,"dojoType")||_21a(_21c,"data-dojo-type"))){continue;}var _21d=_21a(_21c,"dojoAttachPoint")||_21a(_21c,"data-dojo-attach-point");if(_21d){var _21e,_21f=_21d.split(/\s*,\s*/);while((_21e=_21f.shift())){if(dojo.isArray(this[_21e])){this[_21e].push(_21c);}else{this[_21e]=_21c;}this._attachPoints.push(_21e);}}var _220=_21a(_21c,"dojoAttachEvent")||_21a(_21c,"data-dojo-attach-event");if(_220){var _221,_222=_220.split(/\s*,\s*/);var trim=dojo.trim;while((_221=_222.shift())){if(_221){var _223=null;if(_221.indexOf(":")!=-1){var _224=_221.split(":");_221=trim(_224[0]);_223=trim(_224[1]);}else{_221=trim(_221);}if(!_223){_223=_221;}this._attachEvents.push(this.connect(_21c,_221,_223));}}}var role=_21a(_21c,"waiRole");if(role){dijit.setWaiRole(_21c,role);}var _225=_21a(_21c,"waiState");if(_225){dojo.forEach(_225.split(/\s*,\s*/),function(_226){if(_226.indexOf("-")!=-1){var pair=_226.split("-");dijit.setWaiState(_21c,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_227){delete this[_227];},this);this._attachPoints=[];dojo.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_228,_229,_22a){var _22b=dijit._Templated._templateCache;var key=_229||_228;var _22c=_22b[key];if(_22c){try{if(!_22c.ownerDocument||_22c.ownerDocument==dojo.doc){return _22c;}}catch(e){}dojo.destroy(_22c);}if(!_229){_229=dojo.cache(_228,{sanitize:true});}_229=dojo.string.trim(_229);if(_22a||_229.match(/\$\{([^\}]+)\}/g)){return (_22b[key]=_229);}else{var node=dojo._toDom(_229);if(node.nodeType!=1){throw new Error("Invalid template: "+_229);}return (_22b[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _22d=dijit._Templated._templateCache;for(var key in _22d){var _22e=_22d[key];if(typeof _22e=="object"){dojo.destroy(_22e);}delete _22d[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dojox.fx._core"]){dojo._hasResource["dojox.fx._core"]=true;dojo.provide("dojox.fx._core");dojox.fx._Line=function(_22f,end){this.start=_22f;this.end=end;var _230=dojo.isArray(_22f),d=(_230?[]:end-_22f);if(_230){dojo.forEach(this.start,function(s,i){d[i]=this.end[i]-s;},this);this.getValue=function(n){var res=[];dojo.forEach(this.start,function(s,i){res[i]=(d[i]*n)+s;},this);return res;};}else{this.getValue=function(n){return (d*n)+this.start;};}};}if(!dojo._hasResource["dojox.fx.scroll"]){dojo._hasResource["dojox.fx.scroll"]=true;dojo.provide("dojox.fx.scroll");dojo.experimental("dojox.fx.scroll");dojox.fx.smoothScroll=function(args){if(!args.target){args.target=dojo.position(args.node);}var _231=dojo[(dojo.isIE?"isObject":"isFunction")](args["win"].scrollTo),_232={x:args.target.x,y:args.target.y};if(!_231){var _233=dojo.position(args.win);_232.x-=_233.x;_232.y-=_233.y;}var _234=(_231)?(function(val){args.win.scrollTo(val[0],val[1]);}):(function(val){args.win.scrollLeft=val[0];args.win.scrollTop=val[1];});var anim=new dojo.Animation(dojo.mixin({beforeBegin:function(){if(this.curve){delete this.curve;}var _235=_231?dojo._docScroll():{x:args.win.scrollLeft,y:args.win.scrollTop};anim.curve=new dojox.fx._Line([_235.x,_235.y],[_235.x+_232.x,_235.y+_232.y]);},onAnimate:_234},args));return anim;};}if(!dojo._hasResource["dojo.fx.easing"]){dojo._hasResource["dojo.fx.easing"]=true;dojo.provide("dojo.fx.easing");dojo.getObject("fx.easing",true,dojo);dojo.fx.easing={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-dojo.fx.easing.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return dojo.fx.easing.bounceIn(n*2)/2;}return (dojo.fx.easing.bounceOut(n*2-1)/2)+0.5;}};}if(!dojo._hasResource["dojox.image.ThumbnailPicker"]){dojo._hasResource["dojox.image.ThumbnailPicker"]=true;dojo.provide("dojox.image.ThumbnailPicker");dojo.experimental("dojox.image.ThumbnailPicker");dojo.declare("dojox.image.ThumbnailPicker",[dijit._Widget,dijit._Templated],{imageStore:null,request:null,size:500,thumbHeight:75,thumbWidth:100,useLoadNotifier:false,useHyperlink:false,hyperlinkTarget:"new",isClickable:true,isScrollable:true,isHorizontal:true,autoLoad:true,linkAttr:"link",imageThumbAttr:"imageUrlThumb",imageLargeAttr:"imageUrl",pageSize:20,titleAttr:"title",templateString:dojo.cache("dojox.image","resources/ThumbnailPicker.html","<div dojoAttachPoint=\"outerNode\" class=\"thumbOuter\">\r\n\t<div dojoAttachPoint=\"navPrev\" class=\"thumbNav thumbClickable\">\r\n\t  <img src=\"\" dojoAttachPoint=\"navPrevImg\"/>    \r\n\t</div>\r\n\t<div dojoAttachPoint=\"thumbScroller\" class=\"thumbScroller\">\r\n\t  <div dojoAttachPoint=\"thumbsNode\" class=\"thumbWrapper\"></div>\r\n\t</div>\r\n\t<div dojoAttachPoint=\"navNext\" class=\"thumbNav thumbClickable\">\r\n\t  <img src=\"\" dojoAttachPoint=\"navNextImg\"/>  \r\n\t</div>\r\n</div>\r\n"),_thumbs:[],_thumbIndex:0,_maxPhotos:0,_loadedImages:{},postCreate:function(){this.widgetid=this.id;this.inherited(arguments);this.pageSize=Number(this.pageSize);this._scrollerSize=this.size-(51*2);var _236=this._sizeProperty=this.isHorizontal?"width":"height";dojo.style(this.outerNode,"textAlign","center");dojo.style(this.outerNode,_236,this.size+"px");dojo.style(this.thumbScroller,_236,this._scrollerSize+"px");if(this.useHyperlink){dojo.subscribe(this.getClickTopicName(),this,function(_237){var _238=_237.index;var url=this.imageStore.getValue(_237.data,this.linkAttr);if(!url){return;}if(this.hyperlinkTarget=="new"){window.open(url);}else{window.location=url;}});}if(this.isClickable){dojo.addClass(this.thumbsNode,"thumbClickable");}this._totalSize=0;this.init();},init:function(){if(this.isInitialized){return false;}var _239=this.isHorizontal?"Horiz":"Vert";dojo.addClass(this.navPrev,"prev"+_239);dojo.addClass(this.navNext,"next"+_239);dojo.addClass(this.thumbsNode,"thumb"+_239);dojo.addClass(this.outerNode,"thumb"+_239);dojo.attr(this.navNextImg,"src",this._blankGif);dojo.attr(this.navPrevImg,"src",this._blankGif);this.connect(this.navPrev,"onclick","_prev");this.connect(this.navNext,"onclick","_next");this.isInitialized=true;if(this.isHorizontal){this._offsetAttr="offsetLeft";this._sizeAttr="offsetWidth";this._scrollAttr="scrollLeft";}else{this._offsetAttr="offsetTop";this._sizeAttr="offsetHeight";this._scrollAttr="scrollTop";}this._updateNavControls();if(this.imageStore&&this.request){this._loadNextPage();}return true;},getClickTopicName:function(){return (this.widgetId||this.id)+"/select";},getShowTopicName:function(){return (this.widgetId||this.id)+"/show";},setDataStore:function(_23a,_23b,_23c){this.reset();this.request={query:{},start:_23b.start||0,count:_23b.count||10,onBegin:dojo.hitch(this,function(_23d){this._maxPhotos=_23d;})};if(_23b.query){dojo.mixin(this.request.query,_23b.query);}if(_23c){dojo.forEach(["imageThumbAttr","imageLargeAttr","linkAttr","titleAttr"],function(_23e){if(_23c[_23e]){this[_23e]=_23c[_23e];}},this);}this.request.start=0;this.request.count=this.pageSize;this.imageStore=_23a;this._loadInProgress=false;if(!this.init()){this._loadNextPage();}},reset:function(){this._loadedImages={};dojo.forEach(this._thumbs,function(img){if(img&&img.parentNode){dojo.destroy(img);}});this._thumbs=[];this.isInitialized=false;this._noImages=true;},isVisible:function(_23f){var img=this._thumbs[_23f];if(!img){return false;}var pos=this.isHorizontal?"offsetLeft":"offsetTop";var size=this.isHorizontal?"offsetWidth":"offsetHeight";var _240=this.isHorizontal?"scrollLeft":"scrollTop";var _241=img[pos]-this.thumbsNode[pos];return (_241>=this.thumbScroller[_240]&&_241+img[size]<=this.thumbScroller[_240]+this._scrollerSize);},resize:function(dim){var _242=this.isHorizontal?"w":"h";var _243=0;if(this._thumbs.length>0&&dojo.marginBox(this._thumbs[0]).w==0){return;}dojo.forEach(this._thumbs,dojo.hitch(this,function(_244){var mb=dojo.marginBox(_244.firstChild);var size=mb[_242];_243+=(Number(size)+10);if(this.useLoadNotifier&&mb.w>0){dojo.style(_244.lastChild,"width",(mb.w-4)+"px");}dojo.style(_244,"width",mb.w+"px");}));dojo.style(this.thumbsNode,this._sizeProperty,_243+"px");this._updateNavControls();},_next:function(){var pos=this.isHorizontal?"offsetLeft":"offsetTop";var size=this.isHorizontal?"offsetWidth":"offsetHeight";var _245=this.thumbsNode[pos];var _246=this._thumbs[this._thumbIndex];var _247=_246[pos]-_245;var _248=-1,img;for(var i=this._thumbIndex+1;i<this._thumbs.length;i++){img=this._thumbs[i];if(img[pos]-_245+img[size]-_247>this._scrollerSize){this._showThumbs(i);return;}}},_prev:function(){if(this.thumbScroller[this.isHorizontal?"scrollLeft":"scrollTop"]==0){return;}var pos=this.isHorizontal?"offsetLeft":"offsetTop";var size=this.isHorizontal?"offsetWidth":"offsetHeight";var _249=this._thumbs[this._thumbIndex];var _24a=_249[pos]-this.thumbsNode[pos];var _24b=-1,img;for(var i=this._thumbIndex-1;i>-1;i--){img=this._thumbs[i];if(_24a-img[pos]>this._scrollerSize){this._showThumbs(i+1);return;}}this._showThumbs(0);},_checkLoad:function(img,_24c){dojo.publish(this.getShowTopicName(),[{index:_24c}]);this._updateNavControls();this._loadingImages={};this._thumbIndex=_24c;if(this.thumbsNode.offsetWidth-img.offsetLeft<(this._scrollerSize*2)){this._loadNextPage();}},_showThumbs:function(_24d){_24d=Math.min(Math.max(_24d,0),this._maxPhotos);if(_24d>=this._maxPhotos){return;}var img=this._thumbs[_24d];if(!img){return;}var left=img.offsetLeft-this.thumbsNode.offsetLeft;var top=img.offsetTop-this.thumbsNode.offsetTop;var _24e=this.isHorizontal?left:top;if((_24e>=this.thumbScroller[this._scrollAttr])&&(_24e+img[this._sizeAttr]<=this.thumbScroller[this._scrollAttr]+this._scrollerSize)){return;}if(this.isScrollable){var _24f=this.isHorizontal?{x:left,y:0}:{x:0,y:top};dojox.fx.smoothScroll({target:_24f,win:this.thumbScroller,duration:300,easing:dojo.fx.easing.easeOut,onEnd:dojo.hitch(this,"_checkLoad",img,_24d)}).play(10);}else{if(this.isHorizontal){this.thumbScroller.scrollLeft=left;}else{this.thumbScroller.scrollTop=top;}this._checkLoad(img,_24d);}},markImageLoaded:function(_250){var _251=dojo.byId("loadingDiv_"+this.widgetid+"_"+_250);if(_251){this._setThumbClass(_251,"thumbLoaded");}this._loadedImages[_250]=true;},_setThumbClass:function(_252,_253){if(!this.autoLoad){return;}dojo.addClass(_252,_253);},_loadNextPage:function(){if(this._loadInProgress){return;}this._loadInProgress=true;var _254=this.request.start+(this._noImages?0:this.pageSize);var pos=_254;while(pos<this._thumbs.length&&this._thumbs[pos]){pos++;}var _255=this.imageStore;var _256=function(_257,_258){if(_255!=this.imageStore){return;}if(_257&&_257.length){var _259=0;var _25a=dojo.hitch(this,function(){if(_259>=_257.length){this._loadInProgress=false;return;}var _25b=_259++;this._loadImage(_257[_25b],pos+_25b,_25a);});_25a();this._updateNavControls();}else{this._loadInProgress=false;}};var _25c=function(){this._loadInProgress=false;console.log("Error getting items");};this.request.onComplete=dojo.hitch(this,_256);this.request.onError=dojo.hitch(this,_25c);this.request.start=_254;this._noImages=false;this.imageStore.fetch(this.request);},_loadImage:function(data,_25d,_25e){var _25f=this.imageStore;var url=_25f.getValue(data,this.imageThumbAttr);var _260=dojo.create("div",{id:"img_"+this.widgetid+"_"+_25d});var img=dojo.create("img",{},_260);img._index=_25d;img._data=data;this._thumbs[_25d]=_260;var _261;if(this.useLoadNotifier){_261=dojo.create("div",{id:"loadingDiv_"+this.widgetid+"_"+_25d},_260);this._setThumbClass(_261,this._loadedImages[_25d]?"thumbLoaded":"thumbNotifier");}var size=dojo.marginBox(this.thumbsNode);var _262;var _263;if(this.isHorizontal){_262=this.thumbWidth;_263="w";}else{_262=this.thumbHeight;_263="h";}size=size[_263];var sl=this.thumbScroller.scrollLeft,st=this.thumbScroller.scrollTop;dojo.style(this.thumbsNode,this._sizeProperty,(size+_262+20)+"px");this.thumbScroller.scrollLeft=sl;this.thumbScroller.scrollTop=st;this.thumbsNode.appendChild(_260);dojo.connect(img,"onload",this,dojo.hitch(this,function(){if(_25f!=this.imageStore){return false;}this.resize();setTimeout(_25e,0);return false;}));dojo.connect(img,"onclick",this,function(evt){dojo.publish(this.getClickTopicName(),[{index:evt.target._index,data:evt.target._data,url:img.getAttribute("src"),largeUrl:this.imageStore.getValue(data,this.imageLargeAttr),title:this.imageStore.getValue(data,this.titleAttr),link:this.imageStore.getValue(data,this.linkAttr)}]);return false;});dojo.addClass(img,"imageGalleryThumb");img.setAttribute("src",url);var _264=this.imageStore.getValue(data,this.titleAttr);if(_264){img.setAttribute("title",_264);}this._updateNavControls();},_updateNavControls:function(){var _265=[];var _266=function(node,add){var fn=add?"addClass":"removeClass";dojo[fn](node,"enabled");dojo[fn](node,"thumbClickable");};var pos=this.isHorizontal?"scrollLeft":"scrollTop";var size=this.isHorizontal?"offsetWidth":"offsetHeight";_266(this.navPrev,(this.thumbScroller[pos]>0));var last=this._thumbs[this._thumbs.length-1];var _267=(this.thumbScroller[pos]+this._scrollerSize<this.thumbsNode[size]);_266(this.navNext,_267);}});}if(!dojo._hasResource["dojox.image.SlideShow"]){dojo._hasResource["dojox.image.SlideShow"]=true;dojo.provide("dojox.image.SlideShow");dojo.declare("dojox.image.SlideShow",[dijit._Widget,dijit._Templated],{imageHeight:375,imageWidth:500,title:"",titleTemplate:"${title} <span class=\"slideShowCounterText\">(${current} of ${total})</span>",noLink:false,loop:true,hasNav:true,images:[],pageSize:20,autoLoad:true,autoStart:false,fixedHeight:false,imageStore:null,linkAttr:"link",imageLargeAttr:"imageUrl",titleAttr:"title",slideshowInterval:3,templateString:dojo.cache("dojox.image","resources/SlideShow.html","<div dojoAttachPoint=\"outerNode\" class=\"slideShowWrapper\">\r\n\t<div style=\"position:relative;\" dojoAttachPoint=\"innerWrapper\">\r\n\t\t<div class=\"slideShowNav\" dojoAttachEvent=\"onclick: _handleClick\">\r\n\t\t\t<div class=\"dijitInline slideShowTitle\" dojoAttachPoint=\"titleNode\">${title}</div>\r\n\t\t</div>\r\n\t\t<div dojoAttachPoint=\"navNode\" class=\"slideShowCtrl\" dojoAttachEvent=\"onclick: _handleClick\">\r\n\t\t\t<span dojoAttachPoint=\"navPrev\" class=\"slideShowCtrlPrev\"></span>\r\n\t\t\t<span dojoAttachPoint=\"navPlay\" class=\"slideShowCtrlPlay\"></span>\r\n\t\t\t<span dojoAttachPoint=\"navNext\" class=\"slideShowCtrlNext\"></span>\r\n\t\t</div>\r\n\t\t<div dojoAttachPoint=\"largeNode\" class=\"slideShowImageWrapper\"></div>\t\t\r\n\t\t<div dojoAttachPoint=\"hiddenNode\" class=\"slideShowHidden\"></div>\r\n\t</div>\r\n</div>\r\n"),_imageCounter:0,_tmpImage:null,_request:null,postCreate:function(){this.inherited(arguments);var img=document.createElement("img");img.setAttribute("width",this.imageWidth);img.setAttribute("height",this.imageHeight);if(this.hasNav){dojo.connect(this.outerNode,"onmouseover",this,function(evt){try{this._showNav();}catch(e){}});dojo.connect(this.outerNode,"onmouseout",this,function(evt){try{this._hideNav(evt);}catch(e){}});}this.outerNode.style.width=this.imageWidth+"px";img.setAttribute("src",this._blankGif);var _268=this;this.largeNode.appendChild(img);this._tmpImage=this._currentImage=img;this._fitSize(true);this._loadImage(0,dojo.hitch(this,"showImage",0));this._calcNavDimensions();},setDataStore:function(_269,_26a,_26b){this.reset();var _26c=this;this._request={query:{},start:_26a.start||0,count:_26a.count||this.pageSize,onBegin:function(_26d,_26e){_26c.maxPhotos=_26d;}};if(_26a.query){dojo.mixin(this._request.query,_26a.query);}if(_26b){dojo.forEach(["imageLargeAttr","linkAttr","titleAttr"],function(_26f){if(_26b[_26f]){this[_26f]=_26b[_26f];}},this);}var _270=function(_271){_26c.maxPhotos=_271.length;_26c._request.onComplete=null;if(_26c.autoStart){_26c.imageIndex=-1;_26c.toggleSlideShow();}else{_26c.showImage(0);}};this.imageStore=_269;this._request.onComplete=_270;this._request.start=0;this.imageStore.fetch(this._request);},reset:function(){dojo.query("> *",this.largeNode).orphan();this.largeNode.appendChild(this._tmpImage);dojo.query("> *",this.hiddenNode).orphan();dojo.forEach(this.images,function(img){if(img&&img.parentNode){img.parentNode.removeChild(img);}});this.images=[];this.isInitialized=false;this._imageCounter=0;},isImageLoaded:function(_272){return this.images&&this.images.length>_272&&this.images[_272];},moveImageLoadingPointer:function(_273){this._imageCounter=_273;},destroy:function(){if(this._slideId){this._stop();}this.inherited(arguments);},showNextImage:function(_274,_275){if(_274&&this._timerCancelled){return false;}if(this.imageIndex+1>=this.maxPhotos){if(_274&&(this.loop||_275)){this.imageIndex=-1;}else{if(this._slideId){this._stop();}return false;}}this.showImage(this.imageIndex+1,dojo.hitch(this,function(){if(_274){this._startTimer();}}));return true;},toggleSlideShow:function(){if(this._slideId){this._stop();}else{dojo.toggleClass(this.domNode,"slideShowPaused");this._timerCancelled=false;var idx=this.imageIndex;if(idx<0||(this.images[idx]&&this.images[idx]._img.complete)){var _276=this.showNextImage(true,true);if(!_276){this._stop();}}else{var _277=dojo.subscribe(this.getShowTopicName(),dojo.hitch(this,function(info){setTimeout(dojo.hitch(this,function(){if(info.index==idx){var _278=this.showNextImage(true,true);if(!_278){this._stop();}dojo.unsubscribe(_277);}}),this.slideshowInterval*1000);}));dojo.publish(this.getShowTopicName(),[{index:idx,title:"",url:""}]);}}},getShowTopicName:function(){return (this.widgetId||this.id)+"/imageShow";},getLoadTopicName:function(){return (this.widgetId?this.widgetId:this.id)+"/imageLoad";},showImage:function(_279,_27a){if(!_27a&&this._slideId){this.toggleSlideShow();}var _27b=this;var _27c=this.largeNode.getElementsByTagName("div");this.imageIndex=_279;var _27d=function(){if(_27b.images[_279]){while(_27b.largeNode.firstChild){_27b.largeNode.removeChild(_27b.largeNode.firstChild);}dojo.style(_27b.images[_279],"opacity",0);_27b.largeNode.appendChild(_27b.images[_279]);_27b._currentImage=_27b.images[_279]._img;_27b._fitSize();var _27e=function(a,b,c){var img=_27b.images[_279].firstChild;if(img.tagName.toLowerCase()!="img"){img=img.firstChild;}var _27f=img.getAttribute("title")||"";if(_27b._navShowing){_27b._showNav(true);}dojo.publish(_27b.getShowTopicName(),[{index:_279,title:_27f,url:img.getAttribute("src")}]);if(_27a){_27a(a,b,c);}_27b._setTitle(_27f);};dojo.fadeIn({node:_27b.images[_279],duration:300,onEnd:_27e}).play();}else{_27b._loadImage(_279,function(){_27b.showImage(_279,_27a);});}};if(_27c&&_27c.length>0){dojo.fadeOut({node:_27c[0],duration:300,onEnd:function(){_27b.hiddenNode.appendChild(_27c[0]);_27d();}}).play();}else{_27d();}},_fitSize:function(_280){if(!this.fixedHeight||_280){var _281=(this._currentImage.height+(this.hasNav?20:0));dojo.style(this.innerWrapper,"height",_281+"px");return;}dojo.style(this.largeNode,"paddingTop",this._getTopPadding()+"px");},_getTopPadding:function(){if(!this.fixedHeight){return 0;}return (this.imageHeight-this._currentImage.height)/2;},_loadNextImage:function(){if(!this.autoLoad){return;}while(this.images.length>=this._imageCounter&&this.images[this._imageCounter]){this._imageCounter++;}this._loadImage(this._imageCounter);},_loadImage:function(_282,_283){if(this.images[_282]||!this._request){return;}var _284=_282-(_282%(this._request.count||this.pageSize));this._request.start=_284;this._request.onComplete=function(_285){var diff=_282-_284;if(_285&&_285.length>diff){_286(_285[diff]);}else{}};var _287=this;var _288=this.imageStore;var _286=function(item){var url=_287.imageStore.getValue(item,_287.imageLargeAttr);var img=new Image();var div=dojo.create("div",{id:_287.id+"_imageDiv"+_282});div._img=img;var link=_287.imageStore.getValue(item,_287.linkAttr);if(!link||_287.noLink){div.appendChild(img);}else{var a=dojo.create("a",{"href":link,"target":"_blank"},div);a.appendChild(img);}dojo.connect(img,"onload",function(){if(_288!=_287.imageStore){return;}_287._fitImage(img);dojo.attr(div,{"width":_287.imageWidth,"height":_287.imageHeight});dojo.publish(_287.getLoadTopicName(),[_282]);setTimeout(function(){_287._loadNextImage();},1);if(_283){_283();}});_287.hiddenNode.appendChild(div);var _289=dojo.create("div",{className:"slideShowTitle"},div);_287.images[_282]=div;dojo.attr(img,"src",url);var _28a=_287.imageStore.getValue(item,_287.titleAttr);if(_28a){dojo.attr(img,"title",_28a);}};this.imageStore.fetch(this._request);},_stop:function(){if(this._slideId){clearTimeout(this._slideId);}this._slideId=null;this._timerCancelled=true;dojo.removeClass(this.domNode,"slideShowPaused");},_prev:function(){if(this.imageIndex<1){return;}this.showImage(this.imageIndex-1);},_next:function(){this.showNextImage();},_startTimer:function(){var id=this.id;this._slideId=setTimeout(function(){dijit.byId(id).showNextImage(true);},this.slideshowInterval*1000);},_calcNavDimensions:function(){dojo.style(this.navNode,"position","absolute");dojo.style(this.navNode,"top","-10000px");dojo._setOpacity(this.navNode,1);this.navPlay._size=dojo.marginBox(this.navPlay);this.navPrev._size=dojo.marginBox(this.navPrev);this.navNext._size=dojo.marginBox(this.navNext);dojo._setOpacity(this.navNode,0);dojo.style(this.navNode,{"position":"",top:""});},_setTitle:function(_28b){this.titleNode.innerHTML=dojo.string.substitute(this.titleTemplate,{title:_28b,current:1+this.imageIndex,total:this.maxPhotos||""});},_fitImage:function(img){var _28c=img.width;var _28d=img.height;if(_28c>this.imageWidth){_28d=Math.floor(_28d*(this.imageWidth/_28c));img.height=_28d;img.width=_28c=this.imageWidth;}if(_28d>this.imageHeight){_28c=Math.floor(_28c*(this.imageHeight/_28d));img.height=this.imageHeight;img.width=_28c;}},_handleClick:function(e){switch(e.target){case this.navNext:this._next();break;case this.navPrev:this._prev();break;case this.navPlay:this.toggleSlideShow();break;}},_showNav:function(_28e){if(this._navShowing&&!_28e){return;}dojo.style(this.navNode,"marginTop","0px");var _28f=dojo.style(this.navNode,"width")/2-this.navPlay._size.w/2-this.navPrev._size.w;dojo.style(this.navPlay,"marginLeft",_28f+"px");var _290=dojo.marginBox(this.outerNode);var _291=this._currentImage.height-this.navPlay._size.h-10+this._getTopPadding();if(_291>this._currentImage.height){_291+=10;}dojo[this.imageIndex<1?"addClass":"removeClass"](this.navPrev,"slideShowCtrlHide");dojo[this.imageIndex+1>=this.maxPhotos?"addClass":"removeClass"](this.navNext,"slideShowCtrlHide");var _292=this;if(this._navAnim){this._navAnim.stop();}if(this._navShowing){return;}this._navAnim=dojo.fadeIn({node:this.navNode,duration:300,onEnd:function(){_292._navAnim=null;}});this._navAnim.play();this._navShowing=true;},_hideNav:function(e){if(!e||!this._overElement(this.outerNode,e)){var _293=this;if(this._navAnim){this._navAnim.stop();}this._navAnim=dojo.fadeOut({node:this.navNode,duration:300,onEnd:function(){_293._navAnim=null;}});this._navAnim.play();this._navShowing=false;}},_overElement:function(_294,e){if(typeof (dojo)=="undefined"){return false;}_294=dojo.byId(_294);var m={x:e.pageX,y:e.pageY};var bb=dojo._getBorderBox(_294);var absl=dojo.coords(_294,true);var left=absl.x;return (m.x>=left&&m.x<=(left+bb.w)&&m.y>=absl.y&&m.y<=(top+bb.h));}});}if(!dojo._hasResource["dojox.image.Gallery"]){dojo._hasResource["dojox.image.Gallery"]=true;dojo.provide("dojox.image.Gallery");dojo.experimental("dojox.image.Gallery");dojo.declare("dojox.image.Gallery",[dijit._Widget,dijit._Templated],{imageHeight:375,imageWidth:500,pageSize:dojox.image.SlideShow.prototype.pageSize,autoLoad:true,linkAttr:"link",imageThumbAttr:"imageUrlThumb",imageLargeAttr:"imageUrl",titleAttr:"title",slideshowInterval:3,templateString:dojo.cache("dojox.image","resources/Gallery.html","<div dojoAttachPoint=\"outerNode\" class=\"imageGalleryWrapper\">\r\n\t<div dojoAttachPoint=\"thumbPickerNode\"></div>\r\n\t<div dojoAttachPoint=\"slideShowNode\"></div>\r\n</div>\r\n"),postCreate:function(){this.widgetid=this.id;this.inherited(arguments);this.thumbPicker=new dojox.image.ThumbnailPicker({linkAttr:this.linkAttr,imageLargeAttr:this.imageLargeAttr,imageThumbAttr:this.imageThumbAttr,titleAttr:this.titleAttr,useLoadNotifier:true,size:this.imageWidth},this.thumbPickerNode);this.slideShow=new dojox.image.SlideShow({imageHeight:this.imageHeight,imageWidth:this.imageWidth,autoLoad:this.autoLoad,linkAttr:this.linkAttr,imageLargeAttr:this.imageLargeAttr,titleAttr:this.titleAttr,slideshowInterval:this.slideshowInterval,pageSize:this.pageSize},this.slideShowNode);var _295=this;dojo.subscribe(this.slideShow.getShowTopicName(),function(_296){_295.thumbPicker._showThumbs(_296.index);});dojo.subscribe(this.thumbPicker.getClickTopicName(),function(evt){_295.slideShow.showImage(evt.index);});dojo.subscribe(this.thumbPicker.getShowTopicName(),function(evt){_295.slideShow.moveImageLoadingPointer(evt.index);});dojo.subscribe(this.slideShow.getLoadTopicName(),function(_297){_295.thumbPicker.markImageLoaded(_297);});this._centerChildren();},setDataStore:function(_298,_299,_29a){this.thumbPicker.setDataStore(_298,_299,_29a);this.slideShow.setDataStore(_298,_299,_29a);},reset:function(){this.slideShow.reset();this.thumbPicker.reset();},showNextImage:function(_29b){this.slideShow.showNextImage();},toggleSlideshow:function(){dojo.deprecated("dojox.widget.Gallery.toggleSlideshow is deprecated.  Use toggleSlideShow instead.","","2.0");this.toggleSlideShow();},toggleSlideShow:function(){this.slideShow.toggleSlideShow();},showImage:function(_29c,_29d){this.slideShow.showImage(_29c,_29d);},resize:function(dim){this.thumbPicker.resize(dim);},_centerChildren:function(){var _29e=dojo.marginBox(this.thumbPicker.outerNode);var _29f=dojo.marginBox(this.slideShow.outerNode);var diff=(_29e.w-_29f.w)/2;if(diff>0){dojo.style(this.slideShow.outerNode,"marginLeft",diff+"px");}else{if(diff<0){dojo.style(this.thumbPicker.outerNode,"marginLeft",(diff*-1)+"px");}}}});}
